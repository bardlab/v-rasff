import{S as a,i as t,s as e,h as n,g as o,A as s,B as r,d as i,m as l,j as d,k as p,C as c,a as u,D as f,p as g,E as h,F as m,G as $,c as C,H as b,I as y,J as v,K as A,L as F}from"./client.f55d9c85.js";import{P as S,d as k,g as j,C as w,a as E,y as T,b as x,c as N}from"./Chart.d025018e.js";function O(a){let t,e,C,b,F,k,j,w,E,T,x,N,O,R;function z(t){a[30].call(null,t)}let V={paragraphTitle:"The Rapid Alert System for Food and Feed"};void 0!==a[0]&&(V.paragraphContent=a[0]);const I=new S({props:V});function L(t){a[32].call(null,t)}y.push(()=>v(I,"paragraphContent",z));let M={paragraphTitle:"Origins",isWithYear:"true"};void 0!==a[4]&&(M.paragraphContent=a[4]);const P=new S({props:M});function U(t){a[34].call(null,t)}y.push(()=>v(P,"paragraphContent",L)),P.$on("message",a[6]);let Y={paragraphTitle:"Product Categories"};void 0!==a[5]&&(Y.paragraphContent=a[5]);const B=new S({props:Y});return y.push(()=>v(B,"paragraphContent",U)),{c(){t=n(),e=o("main"),s(I.$$.fragment),b=n(),F=o("canvas"),k=n(),s(P.$$.fragment),w=n(),E=o("canvas"),T=n(),s(B.$$.fragment),N=n(),O=o("canvas"),this.h()},l(a){r('[data-svelte="svelte-64m1pj"]',document.head).forEach(i),t=l(a),e=d(a,"MAIN",{});var n=p(e);c(I.$$.fragment,n),b=l(n),F=d(n,"CANVAS",{}),p(F).forEach(i),k=l(n),c(P.$$.fragment,n),w=l(n),E=d(n,"CANVAS",{}),p(E).forEach(i),T=l(n),c(B.$$.fragment,n),N=l(n),O=d(n,"CANVAS",{}),p(O).forEach(i),n.forEach(i),this.h()},h(){document.title="Visual/RASFF"},m(n,o){u(n,t,o),u(n,e,o),f(I,e,null),g(e,b),g(e,F),a[31](F),g(e,k),f(P,e,null),g(e,w),g(e,E),a[33](E),g(e,T),f(B,e,null),g(e,N),g(e,O),a[35](O),R=!0},p(a,t){const e={};!C&&1&t[0]&&(C=!0,e.paragraphContent=a[0],A(()=>C=!1)),I.$set(e);const n={};!j&&16&t[0]&&(j=!0,n.paragraphContent=a[4],A(()=>j=!1)),P.$set(n);const o={};!x&&32&t[0]&&(x=!0,o.paragraphContent=a[5],A(()=>x=!1)),B.$set(o)},i(a){R||(h(I.$$.fragment,a),h(P.$$.fragment,a),h(B.$$.fragment,a),R=!0)},o(a){m(I.$$.fragment,a),m(P.$$.fragment,a),m(B.$$.fragment,a),R=!1},d(n){n&&i(t),n&&i(e),$(I),a[31](null),$(P),a[33](null),$(B),a[35](null)}}}function R(a,t,e){let n,o,s,r;C(a,T,a=>e(19,n=a)),C(a,x,a=>e(20,o=a)),C(a,E,a=>e(21,s=a)),C(a,N,a=>e(22,r=a));let i,l,d,p,c,u,f,g,h,m,$,v="RASFF, or the Rapid Alert System for Food and Feed, is the centralized system for reporting food-related safety issues withing the European Union. Its notifications are freely available to the public through a dedicated portal. This website aims at providing an effective visualization of said data, in order to enable citizens and professionals alike to make more efficient and instructive use of RASFF notifications.",A=Object.values(k.entries),S={type:"line",data:{labels:o,datasets:[{label:"",data:A,backgroundColor:"#aaaaee99"}]},options:{title:{display:!0,text:"Total Number of Notifications per Year",fontFamily:"Lato",fontSize:22,fontStyle:"normal"},legend:{display:!1}}},O=Object.keys(k.origins[n]).map(a=>[a,k.origins[n][a]]).sort((function(a,t){return t[1]-a[1]})),R=O.map(a=>a[0]).slice(s,s+r),z=O.map(a=>a[1]).slice(s,s+r),V=z.length>1?j(z.length):"#aaaaee99",I={type:"pie",data:{labels:R,datasets:[{label:"",data:z,backgroundColor:V}]},options:{legend:{display:!0,position:"right",fontSize:22}}},L=Object.keys(k.productCategories[n]).map(a=>[a,k.productCategories[n][a]]).sort((function(a,t){return t[1]-a[1]})),M=L.map(a=>a[0]).slice(s,s+r),P=L.map(a=>a[1]).slice(s,s+r),U={type:"bar",data:{labels:M,datasets:[{label:"",data:P,backgroundColor:"#aaaaee99"}]},options:{legend:{display:!1}}};return b(()=>{l=i.getContext("2d"),d=new w(l,S),c=p.getContext("2d"),u=new w(c,I),g=f.getContext("2d"),h=new w(g,U)}),a.$$.update=()=>{524288&a.$$.dirty[0]&&e(4,m="Most common origins of notified products in <strong>"+n+"</strong>. The countries listed might be the producer and/or the distributor of the notified product in the European Union. Change the year of focus from the menu on the left."),524288&a.$$.dirty[0]&&e(5,$="RASFF notifications in <strong>"+n+"</strong> divided among the most affected product categories.")},[v,i,p,f,m,$,function(){F(E,s=0),O=Object.keys(k.origins[n]).map(a=>[a,k.origins[n][a]]).sort((function(a,t){return t[1]-a[1]})),R=O.map(a=>a[0]).slice(s,s+r),z=O.map(a=>a[1]).slice(s,s+r),u.data.labels=R,u.data.datasets[0].data=z,u.update(),L=Object.keys(k.productCategories[n]).map(a=>[a,k.productCategories[n][a]]).sort((function(a,t){return t[1]-a[1]})),M=L.map(a=>a[0]).slice(s,s+r),P=L.map(a=>a[1]).slice(s,s+r),h.data.labels=M,h.data.datasets[0].data=P,h.update()},l,d,c,u,O,R,z,g,h,L,M,P,n,o,s,r,[],A,S,V,I,U,function(){d.data.datasets[0].backgroundColor="#eeaaaa99",d.update()},function(a){v=a,e(0,v)},function(a){y[a?"unshift":"push"](()=>{e(1,i=a)})},function(a){m=a,e(4,m),e(19,n)},function(a){y[a?"unshift":"push"](()=>{e(2,p=a)})},function(a){$=a,e(5,$),e(19,n)},function(a){y[a?"unshift":"push"](()=>{e(3,f=a)})}]}export default class extends a{constructor(a){super(),t(this,a,R,O,e,{},[-1,-1])}}
